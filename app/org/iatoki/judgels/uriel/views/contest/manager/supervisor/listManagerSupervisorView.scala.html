@(contestId: Long, pages: org.iatoki.judgels.commons.Page[org.iatoki.judgels.uriel.ContestPermission], currentPage: Long, currentSortBy: String, currentOrder: String, currentFilter: String)

@import play.i18n.Messages
@import org.iatoki.judgels.commons.views.html.pagination.firstLevelTablePagination
@import org.iatoki.judgels.commons.views.html.pagination.tableHeader
@import org.iatoki.judgels.commons.views.html.pagination.link2

@shortLink(newSortBy: String) = {@link2(contestId, true, currentSortBy, currentOrder, currentFilter, contestId, newSortBy, org.iatoki.judgels.uriel.controllers.routes.ContestController.listContestSupervisor)}

<form class="form form-inline pull-right" action='@org.iatoki.judgels.uriel.controllers.routes.ContestController.listContestSupervisor(contestId, 0, "", "", "")' method="GET">
    <input type="hidden" name="orderBy" value="@currentOrder"/>
    <input type="hidden" name="sortBy" value="@currentSortBy"/>
    <div class="form-group">
        <input type="search" class="form-control" name="filterString" value="@currentFilter">
    </div>
    <button type="submit" class="btn btn-primary">@Messages.get("commons.search")</button>
</form>

<div class="clearfix"></div>

<div class="table-responsive">
    <table class="table table-hover table-condensed table-bordered">
        <tr>
            @tableHeader("id", Messages.get("commons.field.id"), currentSortBy, currentOrder, shortLink("id"))
            <th>@Messages.get("contest.supervisor.field.username")</th>
            <th>@Messages.get("contest.supervisor.field.alias")</th>
            @tableHeader("announcement", Messages.get("contest.supervisor.field.announcement"), currentSortBy, currentOrder, shortLink("announcement"))
            @tableHeader("problem", Messages.get("contest.supervisor.field.problem"), currentSortBy, currentOrder, shortLink("problem"))
            @tableHeader("submission", Messages.get("contest.supervisor.field.submission"), currentSortBy, currentOrder, shortLink("submission"))
            @tableHeader("clarification", Messages.get("contest.supervisor.field.clarification"), currentSortBy, currentOrder, shortLink("clarification"))
            @tableHeader("contestant", Messages.get("contest.supervisor.field.contestant"), currentSortBy, currentOrder, shortLink("contestant"))
            <th></th>
        </tr>
        @for(page <- pages.getList) {
            <tr>
                <td>@page.getId</td>
                <td>@page.getUsername</td>
                <td>@page.getAlias</td>
                <td>@page.isAnnouncement</td>
                <td>@page.isProblem</td>
                <td>@page.isSubmission</td>
                <td>@page.isClarification</td>
                <td>@page.isContestant</td>
                <td class="text-center">
                    <a href="@org.iatoki.judgels.uriel.controllers.routes.ContestController.updateContestSupervisor(contestId, page.getId)"><span class="glyphicon glyphicon-edit"></span></a>
                </td>
            </tr>
        }
    </table>
</div>

@firstLevelTablePagination(pages, contestId, currentSortBy, currentOrder, currentFilter, org.iatoki.judgels.uriel.controllers.routes.ContestController.listContestSupervisor)
